https证书可实现网站实现加密传输，认证服务器真实身份。

(1)保障用户隐私信息安全
(2)帮助用户识别钓鱼网站
(3)利于网站SEO优化


# 浏览器如何验证 HTTPS 证书的合法性？


# HTTPS劫持问题
## 中间人劫持攻击：
传令兵问题

中间人截取客户端发送给服务器的请求，伪装成客户端与服务器进行通信，并将服务器发给客户端的信息的内容发送给客户端，伪装成服务器与客户端进行通信。此时中间人可以获取客户端与服务端的所有通信内容。使用中间人攻击，必须要让客户端信任中间人的证书。

劫持思路：伪造证书

## 中间人攻击的预防：

证书校验，针对安全性比较高的 app，可以采用客户端预埋证书的方式锁死证书，只有当客户端证书与服务端证书完全一致的情况下才允许通信。证书过期必须强制更新。

作者：穿越人海遇见你
链接：https://www.jianshu.com/p/672aea2c93ad

一个完整的 https 包涵以下连接过程：

1、客户端发送 https 请求。
    2、服务端接收到 https 请求之后，生成公钥和私钥。
    3、服务端返回公钥。
    4、客服端收到公钥，会验证公钥是否有效，如颁发机构或过期时间等，如果发现异常会抛出异常，提示证书存在问题。如果没有问题，会生成一个随机值，作为客户端的密钥，然后用服务端的公钥加密。
    5、加密之后，发给服务端。
    6、服务端收到经过加密的密钥，然后用私钥进行解密，得到客户端的密钥，然后服务端把要传输的内容和客户端的密钥进行堆成加密，这样除非知道密钥，否则无法知道传输的内容。
    7、服务端将经过加密的内容传给客户端。
    8、客户端获取加密内容后，用之前生成的密钥对其进行解密，获取到内容。

# 验证HTTPS证书合法性
1、证书是否是信任的有效证书。所谓信任：浏览器内置了信任的根证书，就是看看 web 服务器的证书是不是这些信任根发的或者信任根的二级证书机构颁发的。所谓有效，就是看看 web 服务器证书是否在有效期，是否被吊销了。2、对方是不是上述证书的合法持有者。简单来说证明对方是否持有证书的对应私钥。验证方法两种，一种是对方签个名，我用证书验证签名；另外一种是用证书做个信封，看对方是否能解开。以上的所有验证，除了验证证书是否吊销需要和 CA 关联，其他都可以自己完成。验证正式是否吊销可以采用黑名单方式或者 OCSP 方式。黑名单就是定期从 CA 下载一个名单列表，里面有吊销的证书序列号，自己在本地比对一下就行。优点是效率高。缺点是不实时。OCSP 是实时连接 CA 去验证，优点是实时，缺点是效率不高

作者：xiaoxiao lin
链接：https://www.zhihu.com/question/37370216/answer/71956414
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
